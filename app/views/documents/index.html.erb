<h1>Documents</h1>

<%= render "shared/search", search_query: :title_cont do %>
  <%= link_to 'New Document', new_document_path %>
<% end %>

<table>
  <thead>
  <tr>
    <th><%= sort_link(@query, :title) %></th>
    <th><%= sort_link(@query, :user) %></th>
    <th><%= sort_link(@query, :ready) %></th>
    <th>Archive</th>
    <th colspan="3"></th>
  </tr>
  </thead>

  <tbody>
  <% @documents.each do |document| %>
    <tr>
      <td><%= document.title %></td>
      <td><%= document.user.nickname %></td>
      <td><%= ready_to_process?(document) %></td>
      <td>
        <%= document_archive_for(document) %>
      </td>
      <td><%= link_to 'Show', document %></td>
      <td><%= link_to 'Edit', edit_document_path(document) %></td>
      <td><%= link_to 'Destroy', document, method: :delete, data: {confirm: 'Are you sure?'} %></td>
    </tr>
  <% end %>
  </tbody>
</table>
<%= paginate @documents %>

